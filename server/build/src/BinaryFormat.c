/* BinaryFormat.c generated by valac 0.30.1, the Vala compiler
 * generated from BinaryFormat.vala, do not modify */


#include <glib.h>
#include <glib-object.h>
#include <gio/gio.h>
#include <gee.h>
#include <gobject/gvaluecollector.h>


#define TYPE_BINARY_FORMAT (binary_format_get_type ())
#define BINARY_FORMAT(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_BINARY_FORMAT, BinaryFormat))
#define BINARY_FORMAT_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_BINARY_FORMAT, BinaryFormatClass))
#define IS_BINARY_FORMAT(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_BINARY_FORMAT))
#define IS_BINARY_FORMAT_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_BINARY_FORMAT))
#define BINARY_FORMAT_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_BINARY_FORMAT, BinaryFormatClass))

typedef struct _BinaryFormat BinaryFormat;
typedef struct _BinaryFormatClass BinaryFormatClass;
typedef struct _BinaryFormatPrivate BinaryFormatPrivate;

#define TYPE_BINARY_DATA (binary_data_get_type ())
#define BINARY_DATA(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_BINARY_DATA, BinaryData))
#define BINARY_DATA_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_BINARY_DATA, BinaryDataClass))
#define IS_BINARY_DATA(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_BINARY_DATA))
#define IS_BINARY_DATA_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_BINARY_DATA))
#define BINARY_DATA_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_BINARY_DATA, BinaryDataClass))

typedef struct _BinaryData BinaryData;
typedef struct _BinaryDataClass BinaryDataClass;

#define TYPE_BINARY_TYPE (binary_type_get_type ())
#define BINARY_TYPE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_BINARY_TYPE, BinaryType))
#define BINARY_TYPE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_BINARY_TYPE, BinaryTypeClass))
#define IS_BINARY_TYPE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_BINARY_TYPE))
#define IS_BINARY_TYPE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_BINARY_TYPE))
#define BINARY_TYPE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_BINARY_TYPE, BinaryTypeClass))

typedef struct _BinaryType BinaryType;
typedef struct _BinaryTypeClass BinaryTypeClass;

#define TYPE_BINARY_BYTES (binary_bytes_get_type ())
#define BINARY_BYTES(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_BINARY_BYTES, BinaryBytes))
#define BINARY_BYTES_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_BINARY_BYTES, BinaryBytesClass))
#define IS_BINARY_BYTES(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_BINARY_BYTES))
#define IS_BINARY_BYTES_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_BINARY_BYTES))
#define BINARY_BYTES_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_BINARY_BYTES, BinaryBytesClass))

typedef struct _BinaryBytes BinaryBytes;
typedef struct _BinaryBytesClass BinaryBytesClass;

#define TYPE_BINARY_NUMBER (binary_number_get_type ())
#define BINARY_NUMBER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_BINARY_NUMBER, BinaryNumber))
#define BINARY_NUMBER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_BINARY_NUMBER, BinaryNumberClass))
#define IS_BINARY_NUMBER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_BINARY_NUMBER))
#define IS_BINARY_NUMBER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_BINARY_NUMBER))
#define BINARY_NUMBER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_BINARY_NUMBER, BinaryNumberClass))

typedef struct _BinaryNumber BinaryNumber;
typedef struct _BinaryNumberClass BinaryNumberClass;

#define TYPE_BINARY_U8 (binary_u8_get_type ())
#define BINARY_U8(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_BINARY_U8, BinaryU8))
#define BINARY_U8_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_BINARY_U8, BinaryU8Class))
#define IS_BINARY_U8(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_BINARY_U8))
#define IS_BINARY_U8_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_BINARY_U8))
#define BINARY_U8_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_BINARY_U8, BinaryU8Class))

typedef struct _BinaryU8 BinaryU8;
typedef struct _BinaryU8Class BinaryU8Class;
#define _binary_type_unref0(var) ((var == NULL) ? NULL : (var = (binary_type_unref (var), NULL)))
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define _binary_data_unref0(var) ((var == NULL) ? NULL : (var = (binary_data_unref (var), NULL)))
typedef struct _binary_format_SerializeData binary_format_SerializeData;
typedef struct _ParamSpecBinaryFormat ParamSpecBinaryFormat;

typedef enum  {
	PARSE_ERROR_WrongType
} ParseError;
#define PARSE_ERROR parse_error_quark ()
struct _BinaryFormat {
	GTypeInstance parent_instance;
	volatile int ref_count;
	BinaryFormatPrivate * priv;
};

struct _BinaryFormatClass {
	GTypeClass parent_class;
	void (*finalize) (BinaryFormat *self);
};

struct _binary_format_SerializeData {
	int _state_;
	GObject* _source_object_;
	GAsyncResult* _res_;
	GSimpleAsyncResult* _async_result;
	guint8* data;
	gint data_length1;
	BinaryType** result;
	gint result_length1;
	BinaryData* binaryData;
	guint8* _tmp0_;
	gint _tmp0__length1;
	BinaryData* _tmp1_;
	gint index;
	GeeArrayList* dataList;
	GeeArrayList* _tmp2_;
	gboolean _tmp3_;
	gint _tmp4_;
	guint8* _tmp5_;
	gint _tmp5__length1;
	BinaryType* tp;
	BinaryData* _tmp6_;
	BinaryType* _tmp7_;
	BinaryType* _tmp8_;
	GeeArrayList* _tmp9_;
	BinaryType* _tmp10_;
	BinaryType** rs;
	GeeArrayList* _tmp11_;
	gint _tmp12_;
	gpointer* _tmp13_;
	gint rs_length1;
	gint _rs_size_;
	BinaryType** _tmp14_;
	gint _tmp14__length1;
};

struct _ParamSpecBinaryFormat {
	GParamSpec parent_instance;
};


static gpointer binary_format_parent_class = NULL;

GQuark parse_error_quark (void);
gpointer binary_format_ref (gpointer instance);
void binary_format_unref (gpointer instance);
GParamSpec* param_spec_binary_format (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags);
void value_set_binary_format (GValue* value, gpointer v_object);
void value_take_binary_format (GValue* value, gpointer v_object);
gpointer value_get_binary_format (const GValue* value);
GType binary_format_get_type (void) G_GNUC_CONST;
enum  {
	BINARY_FORMAT_DUMMY_PROPERTY
};
gpointer binary_data_ref (gpointer instance);
void binary_data_unref (gpointer instance);
GParamSpec* param_spec_binary_data (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags);
void value_set_binary_data (GValue* value, gpointer v_object);
void value_take_binary_data (GValue* value, gpointer v_object);
gpointer value_get_binary_data (const GValue* value);
GType binary_data_get_type (void) G_GNUC_CONST;
static gint binary_format_ReadLength (BinaryData* data, gint* index);
guint8 binary_data_GetU8 (BinaryData* self, guint index);
gpointer binary_type_ref (gpointer instance);
void binary_type_unref (gpointer instance);
GParamSpec* param_spec_binary_type (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags);
void value_set_binary_type (GValue* value, gpointer v_object);
void value_take_binary_type (GValue* value, gpointer v_object);
gpointer value_get_binary_type (const GValue* value);
GType binary_type_get_type (void) G_GNUC_CONST;
GType binary_bytes_get_type (void) G_GNUC_CONST;
static BinaryBytes* binary_format_ReadBytes (BinaryData* data, gint* index);
guint8* binary_data_GetArray (BinaryData* self, guint index, guint len, int* result_length1);
BinaryBytes* binary_bytes_new_WithArray (guint8* data, int data_length1);
BinaryBytes* binary_bytes_construct_WithArray (GType object_type, guint8* data, int data_length1);
GType binary_number_get_type (void) G_GNUC_CONST;
GType binary_u8_get_type (void) G_GNUC_CONST;
static BinaryU8* binary_format_ReadByte (BinaryData* data, gint* index);
BinaryU8* binary_u8_new_WithU8 (guint8 data);
BinaryU8* binary_u8_construct_WithU8 (GType object_type, guint8 data);
static BinaryType* binary_format_ReadType (BinaryData* data, gint* index);
#define BINARY_TYPE_BYTES_TYPE ((guint8) 1)
#define BINARY_TYPE_U8_TYPE ((guint8) 2)
static void binary_format_Serialize_data_free (gpointer _data);
void binary_format_Serialize (guint8* data, int data_length1, GAsyncReadyCallback _callback_, gpointer _user_data_);
BinaryType** binary_format_Serialize_finish (GAsyncResult* _res_, int* result_length1);
static gboolean binary_format_Serialize_co (binary_format_SerializeData* _data_);
BinaryData* binary_data_new_WithArray (guint8* data, int data_length1);
BinaryData* binary_data_construct_WithArray (GType object_type, guint8* data, int data_length1);
BinaryFormat* binary_format_new (void);
BinaryFormat* binary_format_construct (GType object_type);
static void binary_format_finalize (BinaryFormat* obj);
static void _vala_array_destroy (gpointer array, gint array_length, GDestroyNotify destroy_func);
static void _vala_array_free (gpointer array, gint array_length, GDestroyNotify destroy_func);


GQuark parse_error_quark (void) {
	return g_quark_from_static_string ("parse_error-quark");
}


static gint binary_format_ReadLength (BinaryData* data, gint* index) {
	gint result = 0;
	gint res = 0;
	guint8 len = 0U;
	g_return_val_if_fail (data != NULL, 0);
	res = 0;
	len = (guint8) 0;
	{
		gboolean _tmp0_ = FALSE;
		_tmp0_ = TRUE;
		while (TRUE) {
			BinaryData* _tmp2_ = NULL;
			gint _tmp3_ = 0;
			guint8 _tmp4_ = 0U;
			gint _tmp5_ = 0;
			guint8 _tmp6_ = 0U;
			gint _tmp7_ = 0;
			if (!_tmp0_) {
				guint8 _tmp1_ = 0U;
				_tmp1_ = len;
				if (!(((gint) _tmp1_) == 0xFF)) {
					break;
				}
			}
			_tmp0_ = FALSE;
			_tmp2_ = data;
			_tmp3_ = *index;
			_tmp4_ = binary_data_GetU8 (_tmp2_, (guint) _tmp3_);
			len = _tmp4_;
			_tmp5_ = res;
			_tmp6_ = len;
			res = (_tmp5_ << 8) + _tmp6_;
			_tmp7_ = *index;
			*index = _tmp7_ + 1;
		}
	}
	result = res;
	return result;
}


static BinaryBytes* binary_format_ReadBytes (BinaryData* data, gint* index) {
	BinaryBytes* result = NULL;
	gint _tmp0_ = 0;
	gint len = 0;
	BinaryData* _tmp1_ = NULL;
	gint _tmp2_ = 0;
	guint8* arr = NULL;
	BinaryData* _tmp3_ = NULL;
	gint _tmp4_ = 0;
	gint _tmp5_ = 0;
	guint8* _tmp6_ = NULL;
	gint arr_length1 = 0;
	gint _arr_size_ = 0;
	gint _tmp7_ = 0;
	BinaryBytes* _tmp8_ = NULL;
	g_return_val_if_fail (data != NULL, NULL);
	_tmp0_ = *index;
	*index = _tmp0_ + 1;
	_tmp1_ = data;
	_tmp2_ = binary_format_ReadLength (_tmp1_, index);
	len = _tmp2_;
	_tmp3_ = data;
	_tmp4_ = *index;
	_tmp6_ = binary_data_GetArray (_tmp3_, (guint) _tmp4_, (guint) len, &_tmp5_);
	arr = _tmp6_;
	arr_length1 = _tmp5_;
	_arr_size_ = arr_length1;
	_tmp7_ = *index;
	*index = _tmp7_ + len;
	_tmp8_ = binary_bytes_new_WithArray (arr, arr_length1);
	result = _tmp8_;
	arr = (g_free (arr), NULL);
	return result;
}


static BinaryU8* binary_format_ReadByte (BinaryData* data, gint* index) {
	BinaryU8* result = NULL;
	gint _tmp0_ = 0;
	guint8 dat = 0U;
	BinaryData* _tmp1_ = NULL;
	gint _tmp2_ = 0;
	guint8 _tmp3_ = 0U;
	gint _tmp4_ = 0;
	BinaryU8* _tmp5_ = NULL;
	g_return_val_if_fail (data != NULL, NULL);
	_tmp0_ = *index;
	*index = _tmp0_ + 1;
	_tmp1_ = data;
	_tmp2_ = *index;
	_tmp3_ = binary_data_GetU8 (_tmp1_, (guint) _tmp2_);
	dat = _tmp3_;
	_tmp4_ = *index;
	*index = _tmp4_ + 1;
	_tmp5_ = binary_u8_new_WithU8 (dat);
	result = _tmp5_;
	return result;
}


static BinaryType* binary_format_ReadType (BinaryData* data, gint* index) {
	BinaryType* result = NULL;
	guint8 dataType = 0U;
	BinaryData* _tmp0_ = NULL;
	gint _tmp1_ = 0;
	guint8 _tmp2_ = 0U;
	guint8 _tmp3_ = 0U;
	GError* _tmp8_ = NULL;
	GError * _inner_error_ = NULL;
	g_return_val_if_fail (data != NULL, NULL);
	_tmp0_ = data;
	_tmp1_ = *index;
	_tmp2_ = binary_data_GetU8 (_tmp0_, (guint) _tmp1_);
	dataType = _tmp2_;
	_tmp3_ = dataType;
	switch (_tmp3_) {
		case BINARY_TYPE_BYTES_TYPE:
		{
			BinaryData* _tmp4_ = NULL;
			BinaryBytes* _tmp5_ = NULL;
			_tmp4_ = data;
			_tmp5_ = binary_format_ReadBytes (_tmp4_, index);
			result = (BinaryType*) _tmp5_;
			return result;
		}
		case BINARY_TYPE_U8_TYPE:
		{
			BinaryData* _tmp6_ = NULL;
			BinaryU8* _tmp7_ = NULL;
			_tmp6_ = data;
			_tmp7_ = binary_format_ReadByte (_tmp6_, index);
			result = (BinaryType*) _tmp7_;
			return result;
		}
		default:
		break;
	}
	_tmp8_ = g_error_new_literal (PARSE_ERROR, PARSE_ERROR_WrongType, "Unknown type");
	_inner_error_ = _tmp8_;
	g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
	g_clear_error (&_inner_error_);
	return NULL;
}


static void binary_format_Serialize_data_free (gpointer _data) {
	binary_format_SerializeData* _data_;
	_data_ = _data;
	_data_->result = (_vala_array_free (_data_->result, _data_->result_length1, (GDestroyNotify) binary_type_unref), NULL);
	g_slice_free (binary_format_SerializeData, _data_);
}


void binary_format_Serialize (guint8* data, int data_length1, GAsyncReadyCallback _callback_, gpointer _user_data_) {
	binary_format_SerializeData* _data_;
	guint8* _tmp0_ = NULL;
	gint _tmp0__length1 = 0;
	_data_ = g_slice_new0 (binary_format_SerializeData);
	_data_->_async_result = g_simple_async_result_new (NULL, _callback_, _user_data_, binary_format_Serialize);
	g_simple_async_result_set_op_res_gpointer (_data_->_async_result, _data_, binary_format_Serialize_data_free);
	_tmp0_ = data;
	_tmp0__length1 = data_length1;
	_data_->data = _tmp0_;
	_data_->data_length1 = _tmp0__length1;
	binary_format_Serialize_co (_data_);
}


BinaryType** binary_format_Serialize_finish (GAsyncResult* _res_, int* result_length1) {
	BinaryType** result;
	binary_format_SerializeData* _data_;
	_data_ = g_simple_async_result_get_op_res_gpointer (G_SIMPLE_ASYNC_RESULT (_res_));
	result = _data_->result;
	*result_length1 = _data_->result_length1;
	_data_->result = NULL;
	return result;
}


static gboolean binary_format_Serialize_co (binary_format_SerializeData* _data_) {
	switch (_data_->_state_) {
		case 0:
		goto _state_0;
		default:
		g_assert_not_reached ();
	}
	_state_0:
	_data_->_tmp0_ = NULL;
	_data_->_tmp0__length1 = 0;
	_data_->_tmp0_ = _data_->data;
	_data_->_tmp0__length1 = _data_->data_length1;
	_data_->_tmp1_ = NULL;
	_data_->_tmp1_ = binary_data_new_WithArray (_data_->_tmp0_, _data_->_tmp0__length1);
	_data_->binaryData = _data_->_tmp1_;
	_data_->index = 0;
	_data_->_tmp2_ = NULL;
	_data_->_tmp2_ = gee_array_list_new (TYPE_BINARY_TYPE, (GBoxedCopyFunc) binary_type_ref, binary_type_unref, NULL, NULL, NULL);
	_data_->dataList = _data_->_tmp2_;
	{
		_data_->_tmp3_ = TRUE;
		while (TRUE) {
			if (!_data_->_tmp3_) {
				_data_->_tmp4_ = 0;
				_data_->_tmp4_ = _data_->index;
				_data_->_tmp5_ = NULL;
				_data_->_tmp5__length1 = 0;
				_data_->_tmp5_ = _data_->data;
				_data_->_tmp5__length1 = _data_->data_length1;
				if (!(_data_->_tmp4_ < _data_->_tmp5__length1)) {
					break;
				}
			}
			_data_->_tmp3_ = FALSE;
			_data_->_tmp6_ = NULL;
			_data_->_tmp6_ = _data_->binaryData;
			_data_->_tmp7_ = NULL;
			_data_->_tmp7_ = binary_format_ReadType (_data_->_tmp6_, &_data_->index);
			_data_->tp = _data_->_tmp7_;
			_data_->_tmp8_ = NULL;
			_data_->_tmp8_ = _data_->tp;
			if (_data_->_tmp8_ == NULL) {
				_binary_type_unref0 (_data_->tp);
				break;
			}
			_data_->_tmp9_ = NULL;
			_data_->_tmp9_ = _data_->dataList;
			_data_->_tmp10_ = NULL;
			_data_->_tmp10_ = _data_->tp;
			gee_abstract_collection_add ((GeeAbstractCollection*) _data_->_tmp9_, _data_->_tmp10_);
			_binary_type_unref0 (_data_->tp);
		}
	}
	_data_->_tmp11_ = NULL;
	_data_->_tmp11_ = _data_->dataList;
	_data_->_tmp12_ = 0;
	_data_->_tmp13_ = NULL;
	_data_->_tmp13_ = gee_collection_to_array ((GeeCollection*) _data_->_tmp11_, &_data_->_tmp12_);
	_data_->rs_length1 = 0;
	_data_->_rs_size_ = 0;
	_data_->rs = _data_->_tmp13_;
	_data_->rs_length1 = _data_->_tmp12_;
	_data_->_rs_size_ = _data_->rs_length1;
	_data_->_tmp14_ = NULL;
	_data_->_tmp14__length1 = 0;
	_data_->_tmp14_ = _data_->rs;
	_data_->_tmp14__length1 = _data_->rs_length1;
	_data_->result_length1 = _data_->_tmp14__length1;
	_data_->result = _data_->_tmp14_;
	_g_object_unref0 (_data_->dataList);
	_binary_data_unref0 (_data_->binaryData);
	if (_data_->_state_ == 0) {
		g_simple_async_result_complete_in_idle (_data_->_async_result);
	} else {
		g_simple_async_result_complete (_data_->_async_result);
	}
	g_object_unref (_data_->_async_result);
	return FALSE;
	_data_->rs = (_vala_array_free (_data_->rs, _data_->rs_length1, (GDestroyNotify) binary_type_unref), NULL);
	_g_object_unref0 (_data_->dataList);
	_binary_data_unref0 (_data_->binaryData);
	if (_data_->_state_ == 0) {
		g_simple_async_result_complete_in_idle (_data_->_async_result);
	} else {
		g_simple_async_result_complete (_data_->_async_result);
	}
	g_object_unref (_data_->_async_result);
	return FALSE;
}


BinaryFormat* binary_format_construct (GType object_type) {
	BinaryFormat* self = NULL;
	self = (BinaryFormat*) g_type_create_instance (object_type);
	return self;
}


BinaryFormat* binary_format_new (void) {
	return binary_format_construct (TYPE_BINARY_FORMAT);
}


static void value_binary_format_init (GValue* value) {
	value->data[0].v_pointer = NULL;
}


static void value_binary_format_free_value (GValue* value) {
	if (value->data[0].v_pointer) {
		binary_format_unref (value->data[0].v_pointer);
	}
}


static void value_binary_format_copy_value (const GValue* src_value, GValue* dest_value) {
	if (src_value->data[0].v_pointer) {
		dest_value->data[0].v_pointer = binary_format_ref (src_value->data[0].v_pointer);
	} else {
		dest_value->data[0].v_pointer = NULL;
	}
}


static gpointer value_binary_format_peek_pointer (const GValue* value) {
	return value->data[0].v_pointer;
}


static gchar* value_binary_format_collect_value (GValue* value, guint n_collect_values, GTypeCValue* collect_values, guint collect_flags) {
	if (collect_values[0].v_pointer) {
		BinaryFormat* object;
		object = collect_values[0].v_pointer;
		if (object->parent_instance.g_class == NULL) {
			return g_strconcat ("invalid unclassed object pointer for value type `", G_VALUE_TYPE_NAME (value), "'", NULL);
		} else if (!g_value_type_compatible (G_TYPE_FROM_INSTANCE (object), G_VALUE_TYPE (value))) {
			return g_strconcat ("invalid object type `", g_type_name (G_TYPE_FROM_INSTANCE (object)), "' for value type `", G_VALUE_TYPE_NAME (value), "'", NULL);
		}
		value->data[0].v_pointer = binary_format_ref (object);
	} else {
		value->data[0].v_pointer = NULL;
	}
	return NULL;
}


static gchar* value_binary_format_lcopy_value (const GValue* value, guint n_collect_values, GTypeCValue* collect_values, guint collect_flags) {
	BinaryFormat** object_p;
	object_p = collect_values[0].v_pointer;
	if (!object_p) {
		return g_strdup_printf ("value location for `%s' passed as NULL", G_VALUE_TYPE_NAME (value));
	}
	if (!value->data[0].v_pointer) {
		*object_p = NULL;
	} else if (collect_flags & G_VALUE_NOCOPY_CONTENTS) {
		*object_p = value->data[0].v_pointer;
	} else {
		*object_p = binary_format_ref (value->data[0].v_pointer);
	}
	return NULL;
}


GParamSpec* param_spec_binary_format (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags) {
	ParamSpecBinaryFormat* spec;
	g_return_val_if_fail (g_type_is_a (object_type, TYPE_BINARY_FORMAT), NULL);
	spec = g_param_spec_internal (G_TYPE_PARAM_OBJECT, name, nick, blurb, flags);
	G_PARAM_SPEC (spec)->value_type = object_type;
	return G_PARAM_SPEC (spec);
}


gpointer value_get_binary_format (const GValue* value) {
	g_return_val_if_fail (G_TYPE_CHECK_VALUE_TYPE (value, TYPE_BINARY_FORMAT), NULL);
	return value->data[0].v_pointer;
}


void value_set_binary_format (GValue* value, gpointer v_object) {
	BinaryFormat* old;
	g_return_if_fail (G_TYPE_CHECK_VALUE_TYPE (value, TYPE_BINARY_FORMAT));
	old = value->data[0].v_pointer;
	if (v_object) {
		g_return_if_fail (G_TYPE_CHECK_INSTANCE_TYPE (v_object, TYPE_BINARY_FORMAT));
		g_return_if_fail (g_value_type_compatible (G_TYPE_FROM_INSTANCE (v_object), G_VALUE_TYPE (value)));
		value->data[0].v_pointer = v_object;
		binary_format_ref (value->data[0].v_pointer);
	} else {
		value->data[0].v_pointer = NULL;
	}
	if (old) {
		binary_format_unref (old);
	}
}


void value_take_binary_format (GValue* value, gpointer v_object) {
	BinaryFormat* old;
	g_return_if_fail (G_TYPE_CHECK_VALUE_TYPE (value, TYPE_BINARY_FORMAT));
	old = value->data[0].v_pointer;
	if (v_object) {
		g_return_if_fail (G_TYPE_CHECK_INSTANCE_TYPE (v_object, TYPE_BINARY_FORMAT));
		g_return_if_fail (g_value_type_compatible (G_TYPE_FROM_INSTANCE (v_object), G_VALUE_TYPE (value)));
		value->data[0].v_pointer = v_object;
	} else {
		value->data[0].v_pointer = NULL;
	}
	if (old) {
		binary_format_unref (old);
	}
}


static void binary_format_class_init (BinaryFormatClass * klass) {
	binary_format_parent_class = g_type_class_peek_parent (klass);
	((BinaryFormatClass *) klass)->finalize = binary_format_finalize;
}


static void binary_format_instance_init (BinaryFormat * self) {
	self->ref_count = 1;
}


static void binary_format_finalize (BinaryFormat* obj) {
	BinaryFormat * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, TYPE_BINARY_FORMAT, BinaryFormat);
	g_signal_handlers_destroy (self);
}


GType binary_format_get_type (void) {
	static volatile gsize binary_format_type_id__volatile = 0;
	if (g_once_init_enter (&binary_format_type_id__volatile)) {
		static const GTypeValueTable g_define_type_value_table = { value_binary_format_init, value_binary_format_free_value, value_binary_format_copy_value, value_binary_format_peek_pointer, "p", value_binary_format_collect_value, "p", value_binary_format_lcopy_value };
		static const GTypeInfo g_define_type_info = { sizeof (BinaryFormatClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) binary_format_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (BinaryFormat), 0, (GInstanceInitFunc) binary_format_instance_init, &g_define_type_value_table };
		static const GTypeFundamentalInfo g_define_type_fundamental_info = { (G_TYPE_FLAG_CLASSED | G_TYPE_FLAG_INSTANTIATABLE | G_TYPE_FLAG_DERIVABLE | G_TYPE_FLAG_DEEP_DERIVABLE) };
		GType binary_format_type_id;
		binary_format_type_id = g_type_register_fundamental (g_type_fundamental_next (), "BinaryFormat", &g_define_type_info, &g_define_type_fundamental_info, 0);
		g_once_init_leave (&binary_format_type_id__volatile, binary_format_type_id);
	}
	return binary_format_type_id__volatile;
}


gpointer binary_format_ref (gpointer instance) {
	BinaryFormat* self;
	self = instance;
	g_atomic_int_inc (&self->ref_count);
	return instance;
}


void binary_format_unref (gpointer instance) {
	BinaryFormat* self;
	self = instance;
	if (g_atomic_int_dec_and_test (&self->ref_count)) {
		BINARY_FORMAT_GET_CLASS (self)->finalize (self);
		g_type_free_instance ((GTypeInstance *) self);
	}
}


static void _vala_array_destroy (gpointer array, gint array_length, GDestroyNotify destroy_func) {
	if ((array != NULL) && (destroy_func != NULL)) {
		int i;
		for (i = 0; i < array_length; i = i + 1) {
			if (((gpointer*) array)[i] != NULL) {
				destroy_func (((gpointer*) array)[i]);
			}
		}
	}
}


static void _vala_array_free (gpointer array, gint array_length, GDestroyNotify destroy_func) {
	_vala_array_destroy (array, array_length, destroy_func);
	g_free (array);
}



